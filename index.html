<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="TuCitaSegura: plataforma segura y accesible para encontrar conexiones auténticas con verificación, reputación transparente y protección de datos.">
  <meta name="theme-color" content="#0f172a">

  <!-- iOS PWA Support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="TuCitaSegura">

  <title>TuCitaSegura | Citas Premium y Seguras</title>

  <!-- Local CSS (Compiled Tailwind) -->
  <link rel="stylesheet" href="./webapp/css/output.css">

  <!-- Fonts & Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/webapp/apple-touch-icon.png">

  <style>
    /* Partículas en el fondo - Custom styles for elements not in Tailwind */
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
    }

    .typing-effect::after {
      content: '|';
      animation: blink 1s infinite;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }
    }
  </style>
</head>

<body class="text-gray-100 font-sans bg-[#0f172a] overflow-x-hidden">

  <canvas id="particles-js"></canvas>

  <nav class="fixed w-full z-50 transition-all duration-300" id="navbar">
    <div class="glass-panel mx-4 mt-4 rounded-2xl px-6 py-4 flex justify-between items-center">
      <div class="flex items-center gap-2">
        <i class="fas fa-heart text-pink-500 text-2xl animate-pulse"></i>
        <span class="text-2xl font-bold tracking-tight">TuCita<span class="text-blue-400">Segura</span></span>
      </div>

      <div class="hidden md:flex gap-8 text-sm font-medium text-gray-300">
        <a href="#inicio" class="hover:text-white transition-colors">Inicio</a>
        <a href="#como-funciona" class="hover:text-white transition-colors">Cómo Funciona</a>
        <a href="#estadisticas" class="hover:text-white transition-colors">Estadísticas</a>
        <a href="#precios" class="hover:text-white transition-colors">Membresía</a>
      </div>

      <div class="flex gap-4 items-center">
        <select class="bg-transparent text-sm border border-gray-600 rounded px-2 py-1 outline-none text-gray-300">
          <option value="es">ES</option>
          <option value="en">EN</option>
        </select>
        <a href="webapp/login.html" class="text-sm font-semibold hover:text-white">Iniciar Sesión</a>
        <a href="webapp/register.html"
          class="glass-button px-5 py-2 text-sm text-white shadow-lg hover:shadow-purple-500/50">
          Registrarse
        </a>
      </div>
    </div>
  </nav>

  <section id="inicio" class="min-h-screen flex items-center justify-center pt-20 relative overflow-hidden">
    <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-[100px]"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-[100px]"></div>

    <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center relative z-10">
      <div class="space-y-8 animate-fade-in-up">
        <div
          class="inline-block px-4 py-1 rounded-full border border-blue-400/30 bg-blue-500/10 text-blue-300 text-xs font-bold tracking-wider uppercase mb-2">
          Premium Dating & Security
        </div>
        <h1 class="text-5xl md:text-7xl font-bold leading-tight">
          Encuentra tu pareja ideal <br>
          <span class="text-gradient typing-effect" id="typing-text"></span>
        </h1>
        <p class="text-lg text-gray-400 max-w-lg leading-relaxed">
          La plataforma más segura para relaciones serias. Verificación de identidad obligatoria y sistema anti-plantón
          garantizado.
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="webapp/register.html"
            class="glass-button px-8 py-4 text-center shadow-lg hover:shadow-blue-500/50 text-white">
            Crear Cuenta Gratis
          </a>
          <a href="#demo"
            class="glass-panel px-8 py-4 rounded-full font-bold text-center hover:bg-white/10 transition-all flex items-center justify-center gap-2">
            <i class="fas fa-play-circle"></i> Ver Demo
          </a>
        </div>

        <div class="flex items-center gap-4 pt-4">
          <div class="flex -space-x-4">
            <img class="w-10 h-10 rounded-full border-2 border-[#0f172a]" src="https://i.pravatar.cc/100?img=1" alt="">
            <img class="w-10 h-10 rounded-full border-2 border-[#0f172a]" src="https://i.pravatar.cc/100?img=5" alt="">
            <img class="w-10 h-10 rounded-full border-2 border-[#0f172a]" src="https://i.pravatar.cc/100?img=9" alt="">
          </div>
          <p class="text-sm text-gray-400">Únete a más de <span class="text-white font-bold">10,000+</span> usuarios
            verificados</p>
        </div>
      </div>

      <div class="relative hidden md:block" style="animation: float 6s ease-in-out infinite;">
        <div class="glass-panel p-4 rounded-3xl transform rotate-[-5deg] border-t border-l border-white/20">
          <div class="flex items-center gap-4 mb-4 border-b border-white/10 pb-4">
            <div class="relative">
              <img src="https://i.pravatar.cc/150?img=32" class="w-12 h-12 rounded-full">
              <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border border-black"></span>
            </div>
            <div>
              <h4 class="font-bold">Laura, 28</h4>
              <span class="text-xs text-green-400">● En línea ahora</span>
            </div>
          </div>
          <div class="space-y-3 mb-4">
            <div class="bg-white/10 p-3 rounded-lg rounded-tl-none text-sm max-w-[80%]">
              Hola! He visto que te gustan los eventos VIP. ¿Vamos?
            </div>
            <div class="bg-blue-600/50 p-3 rounded-lg rounded-tr-none text-sm max-w-[80%] ml-auto text-right">
              ¡Claro! La seguridad de esta app me encanta.
            </div>
          </div>
          <div class="bg-green-500/20 text-green-300 p-2 rounded text-xs text-center border border-green-500/30">
            <i class="fas fa-shield-alt mr-1"></i> Cita protegida por Seguro Anti-Plantón
          </div>
        </div>

        <div class="absolute -bottom-10 -left-10 glass-panel p-4 rounded-2xl flex items-center gap-3 animate-pulse">
          <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center text-green-400">
            <i class="fas fa-check"></i>
          </div>
          <div>
            <p class="text-xs text-gray-400">Identidad</p>
            <p class="font-bold">Verificada</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="estadisticas" class="py-20 relative">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <div class="glass-panel p-6 rounded-2xl text-center hover:bg-white/10 transition-colors">
          <i class="fas fa-users text-3xl text-blue-400 mb-3"></i>
          <h3 class="text-4xl font-bold mb-1 counter" data-target="10000">0</h3>
          <p class="text-gray-400 text-sm">Usuarios Activos</p>
        </div>
        <div class="glass-panel p-6 rounded-2xl text-center hover:bg-white/10 transition-colors">
          <i class="fas fa-calendar-check text-3xl text-purple-400 mb-3"></i>
          <h3 class="text-4xl font-bold mb-1 counter" data-target="50000">0</h3>
          <p class="text-gray-400 text-sm">Citas Gestionadas</p>
        </div>
        <div class="glass-panel p-6 rounded-2xl text-center hover:bg-white/10 transition-colors">
          <i class="fas fa-shield-alt text-3xl text-green-400 mb-3"></i>
          <h3 class="text-4xl font-bold mb-1 counter" data-target="100">0</h3>
          <p class="text-gray-400 text-sm">% Usuarios Reales</p>
        </div>
        <div class="glass-panel p-6 rounded-2xl text-center hover:bg-white/10 transition-colors">
          <i class="fas fa-star text-3xl text-yellow-400 mb-3"></i>
          <h3 class="text-4xl font-bold mb-1 counter" data-target="98">0</h3>
          <p class="text-gray-400 text-sm">% Satisfacción</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Visual Effects Scripts -->
  <script>
    // Typing Effect
    const phrases = ["sin esperas.", "sin perfiles falsos.", "con seguridad total."];
    let currentPhraseIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    const typingSpeed = 100;
    const erasingSpeed = 50;
    const delayBetweenPhrases = 2000;

    function type() {
      const typingElement = document.getElementById("typing-text");
      if (!typingElement) return;

      const currentPhrase = phrases[currentPhraseIndex];

      if (isDeleting) {
        typingElement.textContent = currentPhrase.substring(0, charIndex - 1);
        charIndex--;
      } else {
        typingElement.textContent = currentPhrase.substring(0, charIndex + 1);
        charIndex++;
      }

      if (!isDeleting && charIndex === currentPhrase.length) {
        isDeleting = true;
        setTimeout(type, delayBetweenPhrases);
      } else if (isDeleting && charIndex === 0) {
        isDeleting = false;
        currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
        setTimeout(type, 500);
      } else {
        setTimeout(type, isDeleting ? erasingSpeed : typingSpeed);
      }
    }
    document.addEventListener('DOMContentLoaded', type);

    // Contadores
    const counters = document.querySelectorAll('.counter');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const target = +entry.target.getAttribute('data-target');
          const duration = 2000;
          const increment = target / (duration / 16);

          let current = 0;
          const updateCounter = () => {
            current += increment;
            if (current < target) {
              entry.target.innerText = Math.ceil(current) + (target > 100 ? '+' : '%');
              requestAnimationFrame(updateCounter);
            } else {
              entry.target.innerText = target + (target > 100 ? '+' : '%');
            }
          };
          updateCounter();
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    counters.forEach(counter => observer.observe(counter));

    // Partículas
    const canvas = document.getElementById('particles-js');
    if (canvas) {
      const ctx = canvas.getContext('2d');

      const resizeCanvas = () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      };
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);

      const particlesArray = [];
      class Particle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height;
          this.size = Math.random() * 2;
          this.speedX = Math.random() * 1 - 0.5;
          this.speedY = Math.random() * 1 - 0.5;
        }
        update() {
          this.x += this.speedX;
          this.y += this.speedY;
          if (this.size > 0.2) this.size -= 0.005; // Fade out
          if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
          if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
        }
        draw() {
          ctx.fillStyle = 'rgba(255,255,255,0.3)';
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }

      function initParticles() {
        for (let i = 0; i < 50; i++) particlesArray.push(new Particle());
      }
      function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particlesArray.length; i++) {
          particlesArray[i].update();
          particlesArray[i].draw();
          if (particlesArray[i].size <= 0.2) {
            particlesArray.splice(i, 1);
            particlesArray.push(new Particle());
          }
        }
        requestAnimationFrame(animateParticles);
      }
      initParticles();
      animateParticles();
    }
  </script>

  <!-- CORE INFRASTRUCTURE (Firebase, PWA) -->
  <!-- Offline Indicator -->
  <div id="offline-indicator"
    class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-full shadow-lg z-50 opacity-0 pointer-events-none transition-opacity duration-300 flex items-center gap-2">
    <i class="fas fa-wifi-slash"></i>
    <span>Sin conexión</span>
  </div>

  <!-- Firebase Scripts -->
  <script type="module">
    import './webapp/js/firebase-appcheck.js';
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
    const firebaseConfig = {
      apiKey: "AIzaSyAmaE2tXMBsKc8DjBd1ShJ1HnDxVYQ0yzU",
      authDomain: "tuscitasseguras-2d1a6.firebaseapp.com",
      projectId: "tuscitasseguras-2d1a6",
      storageBucket: "tuscitasseguras-2d1a6.firebasestorage.app",
      messagingSenderId: "924208562587",
      appId: "1:180656060538:web:3168487130aa126db663c3"
    };
    const app = initializeApp(firebaseConfig);
  </script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- PWA & Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(err => console.warn('SW failed', err));
      });
    }

    // Offline status check
    window.addEventListener('offline', () => {
      const el = document.getElementById('offline-indicator');
      if (el) el.classList.remove('opacity-0', 'pointer-events-none');
    });
    window.addEventListener('online', () => {
      const el = document.getElementById('offline-indicator');
      if (el) el.classList.add('opacity-0', 'pointer-events-none');
    });
  </script>
</body>

</html>