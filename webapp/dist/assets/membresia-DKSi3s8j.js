import{a}from"./firebase-config-env-BtJ4KElt.js";/* empty css               */import{onAuthStateChanged as s}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";let o=null;s(a,r=>{r?o=r:(alert("Debes iniciar sesión para ver membresías"),window.location.href="/login.html")});window.subscribe=async function(r){if(!o){alert("Debes iniciar sesión");return}const i={premium:3e3};if(confirm(`¿Confirmar suscripción al plan ${r.toUpperCase()} por €${(i[r]/100).toFixed(2)}?`))try{const t=await firebase.functions().httpsCallable("createStripeSubscription")({plan:r,price:i[r]});if(t.data.success)alert("¡Suscripción creada exitosamente!"),window.location.href="/perfil.html";else throw new Error(t.data.error||"Error al crear suscripción")}catch(e){console.error("Error:",e),alert("Error al procesar suscripción: "+e.message)}};
